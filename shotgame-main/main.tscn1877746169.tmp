[gd_scene load_steps=12 format=3 uid="uid://b2nyic32e8ajl"]

[ext_resource type="PackedScene" uid="uid://qwmvd7e6eg3q" path="res://player.tscn" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://b13p3oml5g6g0" path="res://blocos_que_movem.gd" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://kmju6dd41drk" path="res://enemy.tscn" id="3_h2yge"]
[ext_resource type="Script" uid="uid://bqd8yew37iqxe" path="res://enemy.gd" id="4_1bvp3"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_7dm0k"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_ig7tw"]
sky_material = SubResource("ProceduralSkyMaterial_7dm0k")

[sub_resource type="Environment" id="Environment_0xm2m"]
background_mode = 2
sky = SubResource("Sky_ig7tw")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ig7tw"]
friction = 0.0

[sub_resource type="NavigationMesh" id="NavigationMesh_1bvp3"]
vertices = PackedVector3Array(-15.53804, 0, -1.6228333, -9.28804, 0, -1.3728333, -9.28804, 0, -2.8728333, -8.03804, 0, -3.1228333, -8.03804, 0, -16.122833, -15.53804, 0, -16.122833, 5.46196, 0, 0.12716675, 6.96196, 0, -0.12283325, 6.96196, 0, -0.87283325, -7.53804, 0, 2.1271667, -8.03804, 0, 2.3771667, -8.03804, 0, 4.3771667, -4.78804, 0, 6.6271667, 5.46196, 0, -12.372833, 6.46196, 0, -12.622833, 6.46196, 0, -16.122833, 5.46196, 0, 1.8771667, 7.46196, 0, -1.1228333, 7.21196, 0, -6.8728333, 5.46196, 0, -7.1228333, -7.53804, 0, -2.8728333, 7.71196, 0, -12.372833, 7.71196, 0, -9.122833, 15.71196, 0, -9.122833, 15.71196, 0, -16.122833, 7.71196, 0, -7.1228333, 9.46196, 0, -0.87283325, 15.71196, 0, 2.1271667, 9.46196, 0, 1.8771667, -9.28804, 0, 2.1271667, -8.78804, 0, 4.8771667, -15.53804, 0, 6.3771667, -8.28804, 0, 6.3771667, 6.46196, 1.25, 0.87716675, 6.46196, 1.25, 1.3771667, 6.96196, 1.25, 1.3771667, 6.96196, 1.25, 0.87716675, 7.96196, 2.75, 1.1271667, 7.96196, 2.75, 1.6271667, 8.46196, 2.75, 1.6271667, 8.46196, 2.75, 1.1271667, 6.96196, 0, 3.3771667, 6.96196, 0, 2.3771667, 5.71196, 0, 2.3771667, -4.03804, 0, 7.1271667, -4.03804, 0, 8.377167, -4.78804, 0, 8.627167, -4.78804, 0, 15.627167, 7.46196, 0, 15.627167, 7.46196, 0, 3.6271667, 9.21196, 0, 3.6271667, 15.71196, 0, 15.627167, -15.53804, 0, 15.627167)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 2), PackedInt32Array(4, 2, 5), PackedInt32Array(5, 2, 0), PackedInt32Array(8, 7, 6), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 9, 12), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 4), PackedInt32Array(6, 16, 12), PackedInt32Array(17, 8, 18), PackedInt32Array(18, 8, 19), PackedInt32Array(3, 4, 20), PackedInt32Array(20, 4, 19), PackedInt32Array(19, 4, 13), PackedInt32Array(8, 6, 19), PackedInt32Array(19, 6, 20), PackedInt32Array(20, 6, 9), PackedInt32Array(9, 6, 12), PackedInt32Array(21, 14, 15), PackedInt32Array(23, 22, 21), PackedInt32Array(15, 24, 21), PackedInt32Array(21, 24, 23), PackedInt32Array(18, 25, 17), PackedInt32Array(17, 25, 26), PackedInt32Array(25, 22, 26), PackedInt32Array(26, 22, 23), PackedInt32Array(26, 23, 27), PackedInt32Array(27, 28, 26), PackedInt32Array(29, 10, 11), PackedInt32Array(11, 30, 29), PackedInt32Array(29, 30, 31), PackedInt32Array(29, 31, 0), PackedInt32Array(30, 32, 31), PackedInt32Array(0, 1, 29), PackedInt32Array(36, 35, 33), PackedInt32Array(33, 35, 34), PackedInt32Array(40, 39, 37), PackedInt32Array(37, 39, 38), PackedInt32Array(42, 41, 43), PackedInt32Array(43, 41, 44), PackedInt32Array(44, 41, 45), PackedInt32Array(47, 46, 45), PackedInt32Array(43, 44, 16), PackedInt32Array(16, 44, 12), PackedInt32Array(49, 48, 41), PackedInt32Array(41, 48, 45), PackedInt32Array(45, 48, 47), PackedInt32Array(50, 28, 27), PackedInt32Array(48, 49, 50), PackedInt32Array(27, 51, 50), PackedInt32Array(50, 51, 48), PackedInt32Array(46, 47, 32), PackedInt32Array(32, 47, 31), PackedInt32Array(31, 47, 52)]

[sub_resource type="BoxMesh" id="BoxMesh_1bvp3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_lquwl"]

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0xm2m")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0.6712316, 0)
shadow_enabled = true

[node name="Player" parent="." groups=["player"] instance=ExtResource("1_ig7tw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7447205, -2)
physics_material_override = SubResource("PhysicsMaterial_ig7tw")
linear_damp = 3.0

[node name="blocos que movem" type="Node3D" parent="."]
script = ExtResource("2_0xm2m")

[node name="mapa" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_1bvp3")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="mapa"]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.07085419, -0.40649414, -0.2618866)
size = Vector3(32.21779, 0.18701172, 32.721893)

[node name="CSGBox3D8" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.398975, -0.40649414, -0.031887054)
size = Vector3(7.2622147, 0.18701172, 7.500473)

[node name="CSGBox3D9" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 35.814217, -0.40649414, 0.0761137)
size = Vector3(7.2622147, 0.18701172, 16.882994)

[node name="CSGBox3D2" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.756173, 0.33601427, 1.0884757)
size = Vector3(1.2788162, 1.3231201, 1.3358421)

[node name="CSGBox3D6" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.409351, 1.6548924, -0.36296415)
size = Vector3(0.32007217, 3.9608765, 4.238722)

[node name="CSGBox3D7" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(0.6111265, 0, 0.79153293, 0, 1, 0, -0.79153293, 0, 0.6111265, -6.3538904, 1.6548924, 6.5483956)
size = Vector3(0.32007217, 3.9608765, 4.238722)

[node name="CSGBox3D3" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.278072, 0.33601427, 2.369463)
size = Vector3(1.2788162, 1.3231201, 1.3358421)

[node name="CSGBox3D4" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.278072, 0.33601427, 0.20317936)
size = Vector3(1.2788162, 1.3231201, 1.3358421)

[node name="CSGBox3D5" type="CSGBox3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.278072, 1.7086356, 1.3177787)
size = Vector3(1.2788162, 1.3231201, 1.3358421)

[node name="blockrigid" type="RigidBody3D" parent="mapa/CSGCombiner3D" groups=["bloco rigid", "player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.7061453, 0.28726232, -8.093855)

[node name="MeshInstance3D" type="MeshInstance3D" parent="mapa/CSGCombiner3D/blockrigid"]
mesh = SubResource("BoxMesh_1bvp3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="mapa/CSGCombiner3D/blockrigid"]
shape = SubResource("BoxShape3D_lquwl")

[node name="RigidBody3D2" type="RigidBody3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.7061453, 0.28726232, -9.774016)

[node name="MeshInstance3D" type="MeshInstance3D" parent="mapa/CSGCombiner3D/RigidBody3D2"]
mesh = SubResource("BoxMesh_1bvp3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="mapa/CSGCombiner3D/RigidBody3D2"]
shape = SubResource("BoxShape3D_lquwl")

[node name="RigidBody3D6" type="RigidBody3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.7061453, 0.28726232, -9.774016)

[node name="MeshInstance3D" type="MeshInstance3D" parent="mapa/CSGCombiner3D/RigidBody3D6"]
mesh = SubResource("BoxMesh_1bvp3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="mapa/CSGCombiner3D/RigidBody3D6"]
shape = SubResource("BoxShape3D_lquwl")

[node name="RigidBody3D3" type="RigidBody3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.7061453, 0.28726232, -11.459325)

[node name="MeshInstance3D" type="MeshInstance3D" parent="mapa/CSGCombiner3D/RigidBody3D3"]
mesh = SubResource("BoxMesh_1bvp3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="mapa/CSGCombiner3D/RigidBody3D3"]
shape = SubResource("BoxShape3D_lquwl")

[node name="RigidBody3D4" type="RigidBody3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.7061453, 1.3888239, -10.504983)

[node name="MeshInstance3D" type="MeshInstance3D" parent="mapa/CSGCombiner3D/RigidBody3D4"]
mesh = SubResource("BoxMesh_1bvp3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="mapa/CSGCombiner3D/RigidBody3D4"]
shape = SubResource("BoxShape3D_lquwl")

[node name="RigidBody3D5" type="RigidBody3D" parent="mapa/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.7061453, 1.3888239, -8.820168)

[node name="MeshInstance3D" type="MeshInstance3D" parent="mapa/CSGCombiner3D/RigidBody3D5"]
mesh = SubResource("BoxMesh_1bvp3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="mapa/CSGCombiner3D/RigidBody3D5"]
shape = SubResource("BoxShape3D_lquwl")

[node name="Enemy" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.4792094, 1.5560889, -8.383633)
script = ExtResource("4_1bvp3")
